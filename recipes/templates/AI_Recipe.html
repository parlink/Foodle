{% extends 'base_content.html' %}
{% load static %}

{% block content %}
<div class="container py-5">
    <div class="card-style p-4 mb-4">
        <h2 class="fw-bold text-emerald mb-2">AI Recipe Generator</h2>
        <p class="text-muted mb-0">List your ingredients and let AI create delicious recipes for you!</p>
    </div>

    <div class="card-style p-4 mb-4">
        <form method="post" action="{% url 'ai_recipes' %}">
            {% csrf_token %}
            <div class="mb-3">
                <label for="user_input" class="form-label fw-bold">Your Ingredients</label>
                <input name="user_input" type="text" class="form-control" id="user_input" 
                       placeholder="e.g., Chicken, Onions, Lentils, Garlic">
                <div class="form-text">Enter ingredients separated by commas</div>
            </div>
            
            <div class="d-flex gap-2">
                <button type="submit" class="btn btn-emerald" name="submit">
                    <i class="bi bi-magic me-1"></i> Generate Recipes
                </button>
                <button type="submit" class="btn btn-outline-secondary" name="clear_history">
                    <i class="bi bi-trash me-1"></i> Clear History
                </button>
            </div>
        </form>
    </div>

    {% if recipes %}
    <h4 class="fw-bold mb-3"><i class="bi bi-list-check me-2"></i>Generated Recipes</h4>
    {% for recipe in recipes %}
    <div class="card-style p-4 mb-3">
        <h5 class="fw-bold text-emerald mb-3">{{ recipe.0 }}</h5>
        <ol class="mb-0">
            {% for step in recipe|slice:"1:" %}
                {% if step %}
                <li class="mb-2">{{ step }}</li>
                {% endif %}
            {% endfor %}
        </ol>
    </div>
    {% endfor %}
    {% endif %}
</div>
{% endblock %}
